{
    "source": [
        "/workspace/examples/musc_main.py",
        "/workspace/scripts/musc.sh"
    ],
    "usage_instructions": "To test the impact of aggregation degree (r) in the LNAMD module on anomaly classification (AC) and segmentation (AS) performance across datasets with different anomaly sizes, run the following commands:\n\n1. For MVTec AD (larger anomaly regions):\n   ```\n   python examples/musc_main.py --device 0 \\\n   --data_path ./data/mvtec_anomaly_detection/ --dataset_name mvtec_ad --class_name ALL \\\n   --backbone_name ViT-L-14-336 --pretrained openai --feature_layers 5 11 17 23 \\\n   --img_resize 518 --divide_num 1 --r_list 1 --batch_size 4 \\\n   --output_dir ./output/mvtec_r1 --vis False --save_excel True\n   \n   python examples/musc_main.py --device 0 \\\n   --data_path ./data/mvtec_anomaly_detection/ --dataset_name mvtec_ad --class_name ALL \\\n   --backbone_name ViT-L-14-336 --pretrained openai --feature_layers 5 11 17 23 \\\n   --img_resize 518 --divide_num 1 --r_list 3 --batch_size 4 \\\n   --output_dir ./output/mvtec_r3 --vis False --save_excel True\n   \n   python examples/musc_main.py --device 0 \\\n   --data_path ./data/mvtec_anomaly_detection/ --dataset_name mvtec_ad --class_name ALL \\\n   --backbone_name ViT-L-14-336 --pretrained openai --feature_layers 5 11 17 23 \\\n   --img_resize 518 --divide_num 1 --r_list 5 --batch_size 4 \\\n   --output_dir ./output/mvtec_r5 --vis False --save_excel True\n   \n   python examples/musc_main.py --device 0 \\\n   --data_path ./data/mvtec_anomaly_detection/ --dataset_name mvtec_ad --class_name ALL \\\n   --backbone_name ViT-L-14-336 --pretrained openai --feature_layers 5 11 17 23 \\\n   --img_resize 518 --divide_num 1 --r_list 1 3 5 --batch_size 4 \\\n   --output_dir ./output/mvtec_r135 --vis False --save_excel True\n   ```\n\n2. For VisA (smaller anomaly regions):\n   ```\n   python examples/musc_main.py --device 0 \\\n   --data_path ./data/visa/ --dataset_name visa --class_name ALL \\\n   --backbone_name ViT-L-14-336 --pretrained openai --feature_layers 5 11 17 23 \\\n   --img_resize 518 --divide_num 1 --r_list 1 --batch_size 4 \\\n   --output_dir ./output/visa_r1 --vis False --save_excel True\n   \n   python examples/musc_main.py --device 0 \\\n   --data_path ./data/visa/ --dataset_name visa --class_name ALL \\\n   --backbone_name ViT-L-14-336 --pretrained openai --feature_layers 5 11 17 23 \\\n   --img_resize 518 --divide_num 1 --r_list 3 --batch_size 4 \\\n   --output_dir ./output/visa_r3 --vis False --save_excel True\n   \n   python examples/musc_main.py --device 0 \\\n   --data_path ./data/visa/ --dataset_name visa --class_name ALL \\\n   --backbone_name ViT-L-14-336 --pretrained openai --feature_layers 5 11 17 23 \\\n   --img_resize 518 --divide_num 1 --r_list 5 --batch_size 4 \\\n   --output_dir ./output/visa_r5 --vis False --save_excel True\n   \n   python examples/musc_main.py --device 0 \\\n   --data_path ./data/visa/ --dataset_name visa --class_name ALL \\\n   --backbone_name ViT-L-14-336 --pretrained openai --feature_layers 5 11 17 23 \\\n   --img_resize 518 --divide_num 1 --r_list 1 3 5 --batch_size 4 \\\n   --output_dir ./output/visa_r135 --vis False --save_excel True\n   ```\n\n3. After running these commands, compare the results in the Excel files generated in the output directories to evaluate how different aggregation degrees (r) affect anomaly classification (AC) and segmentation (AS) performance on both datasets. The hypothesis is that smaller r values (r=1) will perform better on VisA (smaller anomalies), while larger r values (r=5) will perform better on MVTec AD (larger anomalies), and the combination of all three (râˆˆ{1,3,5}) will yield the best overall results."
}