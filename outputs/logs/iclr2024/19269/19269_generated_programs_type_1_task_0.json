{
    "source": ["/workspace/examples/musc_main.py"],
    "usage_instructions": "To conduct the ablation study on aggregation degrees in the LNAMD module, run the following commands for each configuration on both MVTec AD and VisA datasets:\n\n1. For configuration {1}:\n   ```\n   python examples/musc_main.py --device 0 --data_path ./data/mvtec_anomaly_detection/ --dataset_name mvtec_ad --class_name ALL --backbone_name ViT-L-14-336 --pretrained openai --feature_layers 5 11 17 23 --img_resize 518 --divide_num 1 --r_list 1 --batch_size 4 --output_dir ./output --vis True --save_excel True\n   \n   python examples/musc_main.py --device 0 --data_path ./data/visa/ --dataset_name visa --class_name ALL --backbone_name ViT-L-14-336 --pretrained openai --feature_layers 5 11 17 23 --img_resize 518 --divide_num 1 --r_list 1 --batch_size 4 --output_dir ./output --vis True --save_excel True\n   ```\n\n2. For configuration {3}:\n   ```\n   python examples/musc_main.py --device 0 --data_path ./data/mvtec_anomaly_detection/ --dataset_name mvtec_ad --class_name ALL --backbone_name ViT-L-14-336 --pretrained openai --feature_layers 5 11 17 23 --img_resize 518 --divide_num 1 --r_list 3 --batch_size 4 --output_dir ./output --vis True --save_excel True\n   \n   python examples/musc_main.py --device 0 --data_path ./data/visa/ --dataset_name visa --class_name ALL --backbone_name ViT-L-14-336 --pretrained openai --feature_layers 5 11 17 23 --img_resize 518 --divide_num 1 --r_list 3 --batch_size 4 --output_dir ./output --vis True --save_excel True\n   ```\n\n3. For configuration {5}:\n   ```\n   python examples/musc_main.py --device 0 --data_path ./data/mvtec_anomaly_detection/ --dataset_name mvtec_ad --class_name ALL --backbone_name ViT-L-14-336 --pretrained openai --feature_layers 5 11 17 23 --img_resize 518 --divide_num 1 --r_list 5 --batch_size 4 --output_dir ./output --vis True --save_excel True\n   \n   python examples/musc_main.py --device 0 --data_path ./data/visa/ --dataset_name visa --class_name ALL --backbone_name ViT-L-14-336 --pretrained openai --feature_layers 5 11 17 23 --img_resize 518 --divide_num 1 --r_list 5 --batch_size 4 --output_dir ./output --vis True --save_excel True\n   ```\n\n4. For configuration {1,3}:\n   ```\n   python examples/musc_main.py --device 0 --data_path ./data/mvtec_anomaly_detection/ --dataset_name mvtec_ad --class_name ALL --backbone_name ViT-L-14-336 --pretrained openai --feature_layers 5 11 17 23 --img_resize 518 --divide_num 1 --r_list 1 3 --batch_size 4 --output_dir ./output --vis True --save_excel True\n   \n   python examples/musc_main.py --device 0 --data_path ./data/visa/ --dataset_name visa --class_name ALL --backbone_name ViT-L-14-336 --pretrained openai --feature_layers 5 11 17 23 --img_resize 518 --divide_num 1 --r_list 1 3 --batch_size 4 --output_dir ./output --vis True --save_excel True\n   ```\n\n5. For configuration {3,5}:\n   ```\n   python examples/musc_main.py --device 0 --data_path ./data/mvtec_anomaly_detection/ --dataset_name mvtec_ad --class_name ALL --backbone_name ViT-L-14-336 --pretrained openai --feature_layers 5 11 17 23 --img_resize 518 --divide_num 1 --r_list 3 5 --batch_size 4 --output_dir ./output --vis True --save_excel True\n   \n   python examples/musc_main.py --device 0 --data_path ./data/visa/ --dataset_name visa --class_name ALL --backbone_name ViT-L-14-336 --pretrained openai --feature_layers 5 11 17 23 --img_resize 518 --divide_num 1 --r_list 3 5 --batch_size 4 --output_dir ./output --vis True --save_excel True\n   ```\n\n6. For configuration {1,3,5}:\n   ```\n   python examples/musc_main.py --device 0 --data_path ./data/mvtec_anomaly_detection/ --dataset_name mvtec_ad --class_name ALL --backbone_name ViT-L-14-336 --pretrained openai --feature_layers 5 11 17 23 --img_resize 518 --divide_num 1 --r_list 1 3 5 --batch_size 4 --output_dir ./output --vis True --save_excel True\n   \n   python examples/musc_main.py --device 0 --data_path ./data/visa/ --dataset_name visa --class_name ALL --backbone_name ViT-L-14-336 --pretrained openai --feature_layers 5 11 17 23 --img_resize 518 --divide_num 1 --r_list 1 3 5 --batch_size 4 --output_dir ./output --vis True --save_excel True\n   ```\n\nAfter running these commands, the results will be saved in the './output' directory. The metrics for image-level anomaly detection (AC) and pixel-level anomaly segmentation (AS) will be saved in Excel files if --save_excel is set to True. The visualization of segmentation outputs will be saved if --vis is set to True."
}