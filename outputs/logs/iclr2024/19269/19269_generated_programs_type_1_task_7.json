{
    "source": ["/workspace/examples/musc_main.py"],
    "usage_instructions": "To run the experiment that tests how dividing the test dataset into smaller subsets affects inference time, GPU memory, and performance metrics, execute the following commands:\n\n1. For s=1 (no division):\n   python examples/musc_main.py --device 0 --data_path ./data/mvtec_anomaly_detection/ --dataset_name mvtec_ad --class_name ALL --backbone_name ViT-L-14-336 --pretrained openai --feature_layers 5 11 17 23 --img_resize 518 --divide_num 1 --r_list 1 3 5 --batch_size 4 --output_dir ./output --vis False --save_excel True\n\n2. For s=2 (divide into 2 subsets):\n   python examples/musc_main.py --device 0 --data_path ./data/mvtec_anomaly_detection/ --dataset_name mvtec_ad --class_name ALL --backbone_name ViT-L-14-336 --pretrained openai --feature_layers 5 11 17 23 --img_resize 518 --divide_num 2 --r_list 1 3 5 --batch_size 4 --output_dir ./output --vis False --save_excel True\n\n3. For s=3 (divide into 3 subsets):\n   python examples/musc_main.py --device 0 --data_path ./data/mvtec_anomaly_detection/ --dataset_name mvtec_ad --class_name ALL --backbone_name ViT-L-14-336 --pretrained openai --feature_layers 5 11 17 23 --img_resize 518 --divide_num 3 --r_list 1 3 5 --batch_size 4 --output_dir ./output --vis False --save_excel True\n\nRepeat the same commands for the VisA dataset by changing the data_path and dataset_name parameters:\n--data_path ./data/visa/ --dataset_name visa\n\nThe script will automatically measure and report the inference time per image. The results will be saved in the specified output directory, including the AC (image-level anomaly detection) and AS (pixel-level anomaly segmentation) scores."
}