{
    "source": [
        "/workspace/tools/diagnose_rlhf.py",
        "/workspace/tools/cure_hh_rlhf.py",
        "/workspace/tools/cure_red_team_rlhf.py"
    ],
    "usage_instructions": "To replicate the estimation of noise transition matrices before and after the cleaning process for both Civil Comments and conversation datasets (BeaverTails, Safe RLHF, Anthropic Harmless, Red-Team), follow these steps:\n\n1. First, diagnose the datasets to compute the initial noise transition matrices:\n   ```bash\n   # For conversation datasets (Anthropic Harmless)\n   python ./tools/diagnose_rlhf.py --config ./config/hh_rlhf_harmless-base.py\n   \n   # For Red-Team datasets\n   python ./tools/diagnose_rlhf.py --config ./config/hh_rlhf_red-team-attempts_QA.py\n   python ./tools/diagnose_rlhf.py --config ./config/hh_rlhf_red-team-attempts_raw.py\n   ```\n\n2. Then, apply the label cleaning process to the datasets:\n   ```bash\n   # For conversation datasets (Anthropic Harmless)\n   python ./tools/cure_hh_rlhf.py --config_key harmless-base\n   \n   # For Red-Team datasets\n   python ./tools/cure_red_team_rlhf.py\n   ```\n\n3. Alternatively, you can use the provided shell script to run all steps at once:\n   ```bash\n   bash ./tools/docta_rlhf.sh\n   ```\n\nThe scripts will automatically compute the noise transition matrices (T) before and after the cleaning process. The matrices are stored in the report objects that are saved to disk. The diagonal values of these matrices represent the probability of correct labels, while off-diagonal values represent noise. After cleaning, you should observe increased diagonal values and decreased off-diagonal values, demonstrating the effectiveness of the cleaning process in bringing the matrices closer to the identity matrix."
}