{
    "source": ["/workspace/train.py", "/workspace/configs/train_configs/stage2_finetune.yaml"],
    "usage_instructions": "To run the experiment comparing models with and without video-motion consistency constraints:\n\n1. First, create a modified version of the stage2_finetune.yaml config file that disables the video-motion consistency module by adding the following parameter:\n   ```yaml\n   model:\n     # Add this line to disable motion consistency\n     disable_motion_branch: True\n   ```\n\n2. Train the baseline model (with video-motion consistency) using:\n   ```\n   NCCL_P2P_DISABLE=1 CUDA_VISIBLE_DEVICES=0,1,2,3 torchrun --nproc_per_node=4 --master_port='12001' train.py --cfg-path ./configs/train_configs/stage2_finetune.yaml\n   ```\n\n3. Train the ablated model (without video-motion consistency) using the modified config:\n   ```\n   NCCL_P2P_DISABLE=1 CUDA_VISIBLE_DEVICES=0,1,2,3 torchrun --nproc_per_node=4 --master_port='12001' train.py --cfg-path ./configs/train_configs/stage2_finetune_no_motion.yaml\n   ```\n\n4. Evaluate both models on the Hawk dataset using the standard metrics (BLEU-1 to BLEU-4 and GPT-guided metrics) to compare their performance on video description generation and question-answering tasks.\n\nNote: The Hawk model architecture includes parallel processing paths for both regular video frames and motion frames. The video-motion consistency module is implemented through the motion branch that processes motion frames separately and combines them with regular frame features. Disabling this branch would allow measuring its impact on the model's ability to generate accurate textual descriptions of anomalies."
}