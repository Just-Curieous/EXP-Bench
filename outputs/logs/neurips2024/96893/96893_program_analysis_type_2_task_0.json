{
  "requirements": [
    "Step 1: Set up the configuration file with dataset name, categories (liver, kidney, spleen, pancreas), and paths to CT scan and ground truth segmentation (/workspace/config/config_demo.json:1-8)",
    "Step 2: Create a script to load the SegVol model with necessary components (image encoder, mask decoder, prompt encoder) (/workspace/inference_demo.py:178-189)",
    "Step 3: Load the pretrained SegVol checkpoint (/workspace/inference_demo.py:191-197)",
    "Step 4: Process the CT scan and ground truth data for segmentation (/workspace/inference_demo.py:199-205)",
    "Step 5: Implement a function to calculate Dice score between predictions and ground truth (/workspace/inference_demo.py:28-45)",
    "Step 6: Implement segmentation with text prompts by setting use_text_prompt=True, use_box_prompt=False, use_point_prompt=False (/workspace/inference_demo.py:209-211)",
    "Step 7: Run the segmentation model with text prompts and record Dice scores for each organ (/workspace/inference_demo.py:157-173)",
    "Step 8: Implement segmentation with box prompts by setting use_text_prompt=False, use_box_prompt=True, use_point_prompt=False (/workspace/inference_demo.py:209-211)",
    "Step 9: Run the segmentation model with box prompts and record Dice scores for each organ (/workspace/inference_demo.py:157-173)",
    "Step 10: Implement segmentation with point prompts by setting use_text_prompt=False, use_box_prompt=False, use_point_prompt=True (/workspace/inference_demo.py:209-211)",
    "Step 11: Run the segmentation model with point prompts and record Dice scores for each organ (/workspace/inference_demo.py:157-173)",
    "Step 12: Compare the Dice scores across different prompt types (text, box, point) for each organ to determine which prompt type yields the highest segmentation accuracy (/workspace/inference_demo.py:168-173)"
  ],
  "agent_instructions": "Your task is to create a system that compares the segmentation accuracy of the SegVol model on abdominal CT scans using different prompt types. Follow these steps:\n\n1. Create a configuration file that specifies:\n   - Dataset name (AbdomenCT-1k)\n   - Categories to segment: liver, kidney, spleen, and pancreas\n   - Paths to a CT scan and its ground truth segmentation\n\n2. Create a script that loads the SegVol model and runs segmentation experiments with different prompt types:\n   - The script should load a pretrained SegVol checkpoint\n   - Process the CT scan and ground truth data\n   - Implement a function to calculate Dice score between predictions and ground truth\n   - Run three separate experiments with different prompt configurations:\n     a. Text prompts only (use_text_prompt=True, use_box_prompt=False, use_point_prompt=False)\n     b. Box prompts only (use_text_prompt=False, use_box_prompt=True, use_point_prompt=False)\n     c. Point prompts only (use_text_prompt=False, use_box_prompt=False, use_point_prompt=True)\n   - For each experiment, record the Dice scores for each organ\n\n3. Create a shell script that sets the necessary environment variables and runs the Python script with appropriate parameters:\n   - Path to the SegVol checkpoint\n   - Output directory for results\n   - Path to the configuration file\n\n4. Compare the Dice scores across different prompt types for each organ to determine which prompt type yields the highest segmentation accuracy.\n\nThe goal is to answer the research question: How does the choice of prompt type (text, box, or point) affect the segmentation accuracy of SegVol on abdominal CT scans?"
}